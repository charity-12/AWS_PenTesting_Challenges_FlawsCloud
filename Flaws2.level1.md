

# AWS Misconfiguration Challenge: PIN Code Cracking

# Description

In this project, the goal was to find a 100-digit PIN code to advance through a graphical user interface (GUI) challenge. Traditional brute-force methods were impractical due to the PIN's length. The solution involved leveraging a misconfiguration to uncover crucial information leading to the successful resolution of the challenge.
![image](https://github.com/charity-12/AWS_PenTesting_Challenges_FlawsCloud/assets/93730840/97a0ee69-bdd1-415f-8bb1-f28860112b48)



# Methodology

1. **Source Code Analysis:**
   - Examined the source code to understand the behavior of the submission button.
   - Identified that placing a letter on the button triggered an error.

2. **Element Inspection and Network Analysis:**
   - Inspected the elements behind the submission button using browser developer tools.
   - Captured the URL generated during the PIN submission network request.

3. **URL Manipulation:**
   - Appended a letter to the pasted URL, resulting in an error message.
   - Extracted an AWS credentials JSON file from the error message.

4. **AWS Account Creation and Configuration:**
   - Utilized the extracted AWS credentials to create an AWS account via the terminal.
   - Configured the AWS CLI with the created account using \`aws configure --profile havoc\`.

5. **AWS CLI Operations:**
   - Executed \`aws --profile havoc sts get-caller-identity\` to retrieve the AWS account identity.
   - Ran \`aws s3 ls s3://level1.flaws2.cloud --profile havoc\` to list objects in the S3 bucket.
   - Discovered an object named "secret" containing the solution to the challenge.

# Results

The AWS misconfiguration revealed vulnerabilities in the following areas:

1. **AWS IAM Permissions:**
   - The misconfiguration allowed for the listing of contents in an S3 bucket using AWS IAM permissions.

2. **Client-Side Validation Bypass:**
   - Exploited the client-side validation mechanism, enabling the bypass of JavaScript restrictions.

This misconfiguration provided an unintended path to access an AWS account, allowing exploration of the underlying infrastructure. Leveraging these vulnerabilities, the challenge was successfully cracked by retrieving the secret object from the S3 bucket.


# Code Snippets


# AWS CLI Configuration
aws configure --profile havoc

# AWS CLI Operations
aws --profile havoc sts get-caller-identity
aws s3 ls s3://level1.flaws2.cloud --profile havoc

LESSONS LEARNED
Client-Side Validation Limitations:
The ability to bypass client-side validation emphasizes that client-side checks are not sufficient for security. Server-side validation and authorization are crucial to prevent exploitation.
IAM Permissions Understanding:
Understanding AWS Identity and Access Management (IAM) permissions is vital. In this case, the misconfiguration allowed for unintended access due to insufficient IAM restrictions.
Source Code Analysis:
Analyzing source code can provide valuable insights into the behavior of web applications. In this case, examining the source code revealed how the application handled input and errors.
Network Analysis and URL Manipulation:
Proficiency in network analysis and URL manipulation can be powerful tools for understanding and exploiting misconfigurations. It's essential to understand how data is transmitted and processed.
AWS CLI Proficiency:
The challenge required interaction with AWS services using the AWS Command Line Interface (CLI). Proficiency in using the AWS CLI is beneficial for security professionals and administrators.
Misconfigurations Can Lead to Exploitation:
Misconfigurations, even seemingly minor ones, can lead to significant security issues. This challenge demonstrates how a misconfiguration in one part of the system can be exploited to gain access to sensitive information.
